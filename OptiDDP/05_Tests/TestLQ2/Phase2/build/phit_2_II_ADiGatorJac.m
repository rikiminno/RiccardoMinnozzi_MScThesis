% This code was generated using ADiGator version 1.4
% Â©2010-2014 Matthew J. Weinstein and Anil V. Rao
% ADiGator may be obtained at https://sourceforge.net/projects/adigator/ 
% Contact: mweinstein@ufl.edu
% Bugs/suggestions may be reported to the sourceforge forums
%                    DISCLAIMER
% ADiGator is a general-purpose software distributed under the GNU General
% Public License version 3.0. While the software is distributed with the
% hope that it will be useful, both the software and generated code are
% provided 'AS IS' with NO WARRANTIES OF ANY KIND and no merchantability
% or fitness for any purpose or application.

function phit_I = phit_2_II_ADiGatorJac(I,sigma)
global ADiGator_phit_2_II_ADiGatorJac
if isempty(ADiGator_phit_2_II_ADiGatorJac); ADiGator_LoadData(); end
Gator1Data = ADiGator_phit_2_II_ADiGatorJac.phit_2_II_ADiGatorJac.Gator1Data;
% ADiGator Start Derivative Computations
gator_I.f.dI = I.dI; gator_I.f.f = I.f;
%User Line: gator_I.f = I;
gator_I.dI.f = Gator1Data.Data1;
%User Line: gator_I.dI = ones(17,1);
cadainput2_1 = gator_I;
cadainput2_1.dI = gator_I.dI.f;
cadainput2_1.f = gator_I.f.f;
%User Line: cadainput2_1 = gator_I;
cadainput2_2 = sigma;
%User Line: cadainput2_2 = sigma;
cadaoutput2_1 = phit_2_I_ADiGatorJac(cadainput2_1,cadainput2_2);
% Call to function: phit_2_I_ADiGatorJac
phit = cadaoutput2_1;
%User Line: phit = cadaoutput2_1;
phit_I.f =  zeros(1,17);
%User Line: phit_I = zeros(1,17);
phit_I.dI = phit.dIdI;
phit_I.f(phit.dI_location) = phit.dI;
%User Line: phit_I(phit.dI_location) = phit.dI;
phit_I.dI_size = [17,17];
phit_I.dI_location = Gator1Data.Index1;
end
function phit = phit_2_I_ADiGatorJac(I,sigma)
global ADiGator_phit_2_II_ADiGatorJac
Gator1Data = ADiGator_phit_2_II_ADiGatorJac.phit_2_I_ADiGatorJac.Gator1Data;
Gator2Data = ADiGator_phit_2_II_ADiGatorJac.phit_2_I_ADiGatorJac.Gator2Data;
% ADiGator Start Derivative Computations
%User Line: % Augmented Lagrangian wrapper function for phase 2,
%User Line: % automatically generated by the PhaseManager class on 12-Jul-2024 15:11:14
xm.dI = I.dI(Gator1Data.Index2);
% Deriv 1 Line: xm.dI = I.dI(Gator1Data.Index2);
xm.f = I.f(Gator1Data.Index1,1);
% Deriv 1 Line: xm.f = I.f(Gator1Data.Index1,1);
%User Line: xm = I(1: 6, 1);
wm.dI = I.dI(Gator1Data.Index4);
% Deriv 1 Line: wm.dI = I.dI(Gator1Data.Index4);
wm.f = I.f(Gator1Data.Index3,1);
% Deriv 1 Line: wm.f = I.f(Gator1Data.Index3,1);
%User Line: wm = I(7: 12, 1);
xp.dI = I.dI(13);
% Deriv 1 Line: xp.dI = I.dI(13);
xp.f = I.f(13,1);
% Deriv 1 Line: xp.f = I.f(13,1);
%User Line: xp = I(13: 13, 1);
wp.dI = I.dI(14);
% Deriv 1 Line: wp.dI = I.dI(14);
wp.f = I.f(14,1);
% Deriv 1 Line: wp.f = I.f(14,1);
%User Line: wp = I(14: 14, 1);
lm.dI = I.dI(Gator1Data.Index6);
% Deriv 1 Line: lm.dI = I.dI(Gator1Data.Index6);
lm.f = I.f(Gator1Data.Index5,1);
% Deriv 1 Line: lm.f = I.f(Gator1Data.Index5,1);
%User Line: lm = I(15: 17, 1);
cadainput3_1.dI = xm.dI;
% Deriv 1 Line: cadainput3_1.dI = xm.dI;
cadainput3_1.f = xm.f;
% Deriv 1 Line: cadainput3_1.f = xm.f;
%User Line: cadainput3_1 = xm;
cadainput3_2.dI = wm.dI;
% Deriv 1 Line: cadainput3_2.dI = wm.dI;
cadainput3_2.f = wm.f;
% Deriv 1 Line: cadainput3_2.f = wm.f;
%User Line: cadainput3_2 = wm;
cadainput3_3.dI = xp.dI;
% Deriv 1 Line: cadainput3_3.dI = xp.dI;
cadainput3_3.f = xp.f;
% Deriv 1 Line: cadainput3_3.f = xp.f;
%User Line: cadainput3_3 = xp;
cadainput3_4.dI = wp.dI;
% Deriv 1 Line: cadainput3_4.dI = wp.dI;
cadainput3_4.f = wp.f;
% Deriv 1 Line: cadainput3_4.f = wp.f;
%User Line: cadainput3_4 = wp;
cadainput4_1 = cadainput3_1;
% Deriv 1 Line: cadainput4_1 = cadainput3_1;
cadainput4_2 = cadainput3_2;
% Deriv 1 Line: cadainput4_2 = cadainput3_2;
cadainput4_3 = cadainput3_3;
% Deriv 1 Line: cadainput4_3 = cadainput3_3;
cadainput4_4 = cadainput3_4;
% Deriv 1 Line: cadainput4_4 = cadainput3_4;
cadaoutput4_1 = ADiGator_terminal_cost_21(cadainput4_1,cadainput4_2,cadainput4_3,cadainput4_4);
% Call to function: ADiGator_terminal_cost_21
cadaoutput3_1 = cadaoutput4_1;
% Deriv 1 Line: cadaoutput3_1 = cadaoutput4_1;
% Call to function: terminal_cost_2
phi.dIdI = cadaoutput3_1.dIdI; phi.dI = cadaoutput3_1.dI;
% Deriv 1 Line: phi.dI = cadaoutput3_1.dI;
phi.f = cadaoutput3_1.f;
% Deriv 1 Line: phi.f = cadaoutput3_1.f;
%User Line: phi = cadaoutput3_1;
cadainput2_1.dI = xm.dI;
% Deriv 1 Line: cadainput2_1.dI = xm.dI;
cadainput2_1.f = xm.f;
% Deriv 1 Line: cadainput2_1.f = xm.f;
%User Line: cadainput2_1 = xm;
cadainput2_2.dI = wm.dI;
% Deriv 1 Line: cadainput2_2.dI = wm.dI;
cadainput2_2.f = wm.f;
% Deriv 1 Line: cadainput2_2.f = wm.f;
%User Line: cadainput2_2 = wm;
cadainput2_3.dI = xp.dI;
% Deriv 1 Line: cadainput2_3.dI = xp.dI;
cadainput2_3.f = xp.f;
% Deriv 1 Line: cadainput2_3.f = xp.f;
%User Line: cadainput2_3 = xp;
cadainput2_4.dI = wp.dI;
% Deriv 1 Line: cadainput2_4.dI = wp.dI;
cadainput2_4.f = wp.f;
% Deriv 1 Line: cadainput2_4.f = wp.f;
%User Line: cadainput2_4 = wp;
cadainput3_1 = cadainput2_1;
% Deriv 1 Line: cadainput3_1 = cadainput2_1;
cadainput3_2 = cadainput2_2;
% Deriv 1 Line: cadainput3_2 = cadainput2_2;
cadainput3_3 = cadainput2_3;
% Deriv 1 Line: cadainput3_3 = cadainput2_3;
cadainput3_4 = cadainput2_4;
% Deriv 1 Line: cadainput3_4 = cadainput2_4;
cadaoutput3_1 = ADiGator_terminal_constraint_21(cadainput3_1,cadainput3_2,cadainput3_3,cadainput3_4);
% Call to function: ADiGator_terminal_constraint_21
cadaoutput2_1 = cadaoutput3_1;
% Deriv 1 Line: cadaoutput2_1 = cadaoutput3_1;
% Call to function: terminal_constraint_2
Psi.dI = cadaoutput2_1.dI;
% Deriv 1 Line: Psi.dI = cadaoutput2_1.dI;
Psi.f = cadaoutput2_1.f;
% Deriv 1 Line: Psi.f = cadaoutput2_1.f;
%User Line: Psi = cadaoutput2_1;
cada1f1dI = lm.dI;
% Deriv 1 Line: cada1f1dI = lm.dI;
cada1f1 = lm.f.';
% Deriv 1 Line: cada1f1 = lm.f.';
cada1td2 =  zeros(3,3);
% Deriv 1 Line: cada1td2 = zeros(3,3);
cada1td2(Gator1Data.Index7) = cada1f1dI;
% Deriv 1 Line: cada1td2(Gator1Data.Index7) = cada1f1dI;
cada2f1dI = Psi.dI;
cada2f1 = Psi.f.';
cada2td1 = zeros(3,3);
cada2td1(Gator2Data.Index1) = cada2f1dI;
cada2td1 = cada1td2.'*cada2td1;
cada2td1 = cada2td1(:);
cada1td2dI = cada2td1(Gator2Data.Index2);
cada1td2 = cada2f1*cada1td2;
% Deriv 1 Line: cada1td2 = Psi.f.'*cada1td2;
cada1td1 =  zeros(6,1);
% Deriv 1 Line: cada1td1 = zeros(6,1);
cada2f1dI = cada1td2dI(Gator2Data.Index3);
cada2f1 = cada1td2(Gator1Data.Index8);
cada1td1dI = cada2f1dI;
cada1td1(Gator1Data.Index9) = cada2f1;
% Deriv 1 Line: cada1td1(Gator1Data.Index9) = cada1td2(Gator1Data.Index8);
cada1td2 =  zeros(3,3);
% Deriv 1 Line: cada1td2 = zeros(3,3);
cada1td2(Gator1Data.Index10) = Psi.dI;
% Deriv 1 Line: cada1td2(Gator1Data.Index10) = Psi.dI;
cada2td1 = zeros(3,3);
cada2td1(Gator2Data.Index4) = cada1f1dI;
cada2td1 = cada1td2.'*cada2td1;
cada2td1 = cada2td1(:);
cada1td2dI = cada2td1(Gator2Data.Index5);
cada1td2 = cada1f1*cada1td2;
% Deriv 1 Line: cada1td2 = cada1f1*cada1td2;
cada1td2 = cada1td2(:);
% Deriv 1 Line: cada1td2 = cada1td2(:);
cada2f1 = cada1td1(Gator1Data.Index12);
cada2f2dI = cada1td2dI(Gator2Data.Index6);
cada2f2 = cada1td2(Gator1Data.Index11);
cada2f3dI = cada2f2dI;
cada2f3 = cada2f1 + cada2f2;
cada2td1 = zeros(6,1);
cada2td1(Gator2Data.Index7) = cada2f3dI;
cada2td1(Gator2Data.Index8) = cada1td1dI(Gator2Data.Index9);
cada1td1dI = cada2td1;
cada1td1(Gator1Data.Index12) = cada2f3;
% Deriv 1 Line: cada1td1(Gator1Data.Index12) = cada1td1(Gator1Data.Index12) + cada1td2(Gator1Data.Index11);
cada1f2dIdI = cada1td1dI; cada1f2dI = cada1td1;
% Deriv 1 Line: cada1f2dI = cada1td1;
cada1f2 = cada1f1*Psi.f;
% Deriv 1 Line: cada1f2 = cada1f1*Psi.f;
cada1td1 =  zeros(9,1);
% Deriv 1 Line: cada1td1 = zeros(9,1);
cada1td1dI = phi.dIdI;
cada1td1(Gator1Data.Index13) = phi.dI;
% Deriv 1 Line: cada1td1(Gator1Data.Index13) = phi.dI;
cada2f1 = cada1td1(Gator1Data.Index14);
cada2f2dI = cada1f2dIdI;
cada2f2 = cada2f1 + cada1f2dI;
cada2td1 = zeros(9,1);
cada2td1(Gator2Data.Index10) = cada2f2dI;
cada2td1(Gator2Data.Index11) = cada1td1dI(Gator2Data.Index12);
cada1td1dI = cada2td1;
cada1td1(Gator1Data.Index14) = cada2f2;
% Deriv 1 Line: cada1td1(Gator1Data.Index14) = cada1td1(Gator1Data.Index14) + cada1f2dI;
cada1f3dIdI = cada1td1dI; cada1f3dI = cada1td1;
% Deriv 1 Line: cada1f3dI = cada1td1;
cada1f3 = phi.f + cada1f2;
% Deriv 1 Line: cada1f3 = phi.f + cada1f2;
cada1f4dI = Psi.dI;
% Deriv 1 Line: cada1f4dI = Psi.dI;
cada1f4 = Psi.f.';
% Deriv 1 Line: cada1f4 = Psi.f.';
cada1td2 =  zeros(3,3);
% Deriv 1 Line: cada1td2 = zeros(3,3);
cada1td2(Gator1Data.Index15) = cada1f4dI;
% Deriv 1 Line: cada1td2(Gator1Data.Index15) = cada1f4dI;
cada2f1dI = Psi.dI;
cada2f1 = Psi.f.';
cada2td1 = zeros(3,3);
cada2td1(Gator2Data.Index13) = cada2f1dI;
cada2td1 = cada1td2.'*cada2td1;
cada2td1 = cada2td1(:);
cada1td2dI = cada2td1(Gator2Data.Index14);
cada1td2 = cada2f1*cada1td2;
% Deriv 1 Line: cada1td2 = Psi.f.'*cada1td2;
cada1td1dI = cada1td2dI(Gator2Data.Index15);
cada1td1 = cada1td2(Gator1Data.Index16);
% Deriv 1 Line: cada1td1 = cada1td2(Gator1Data.Index16);
cada1td1 = cada1td1(:);
% Deriv 1 Line: cada1td1 = cada1td1(:);
cada1td2 =  zeros(3,3);
% Deriv 1 Line: cada1td2 = zeros(3,3);
cada1td2(Gator1Data.Index17) = Psi.dI;
% Deriv 1 Line: cada1td2(Gator1Data.Index17) = Psi.dI;
cada2td1 = zeros(3,3);
cada2td1(Gator2Data.Index16) = cada1f4dI;
cada2td1 = cada1td2.'*cada2td1;
cada2td1 = cada2td1(:);
cada1td2dI = cada2td1(Gator2Data.Index17);
cada1td2 = cada1f4*cada1td2;
% Deriv 1 Line: cada1td2 = cada1f4*cada1td2;
cada1td2 = cada1td2(:);
% Deriv 1 Line: cada1td2 = cada1td2(:);
cada2f1dI = cada1td2dI(Gator2Data.Index18);
cada2f1 = cada1td2(Gator1Data.Index18);
cada2td1 = cada1td1dI;
cada2td1 = cada2td1 + cada2f1dI;
cada1td1dI = cada2td1;
cada1td1 = cada1td1 + cada2f1;
% Deriv 1 Line: cada1td1 = cada1td1 + cada1td2(Gator1Data.Index18);
cada1f5dIdI = cada1td1dI; cada1f5dI = cada1td1;
% Deriv 1 Line: cada1f5dI = cada1td1;
cada1f5 = cada1f4*Psi.f;
% Deriv 1 Line: cada1f5 = cada1f4*Psi.f;
cada1f6dIdI = sigma.*cada1f5dIdI;
cada1f6dI = sigma*cada1f5dI;
% Deriv 1 Line: cada1f6dI = sigma.*cada1f5dI;
cada1f6 = sigma*cada1f5;
% Deriv 1 Line: cada1f6 = sigma*cada1f5;
cada1td1dI = cada1f3dIdI; cada1td1 = cada1f3dI;
% Deriv 1 Line: cada1td1 = cada1f3dI;
cada2f1dI = cada1td1dI(Gator2Data.Index19);
cada2f1 = cada1td1(Gator1Data.Index19);
cada2td1 = zeros(6,1);
cada2td1(Gator2Data.Index20) = cada2f1dI;
cada2td1(Gator2Data.Index21) = cada2td1(Gator2Data.Index21) + cada1f6dIdI;
cada2f2dI = cada2td1;
cada2f2 = cada2f1 + cada1f6dI;
cada2td1 = zeros(12,1);
cada2td1(Gator2Data.Index22) = cada2f2dI;
cada2td1(Gator2Data.Index23) = cada1td1dI(Gator2Data.Index24);
cada1td1dI = cada2td1;
cada1td1(Gator1Data.Index19) = cada2f2;
% Deriv 1 Line: cada1td1(Gator1Data.Index19) = cada1td1(Gator1Data.Index19) + cada1f6dI;
phit.dIdI = cada1td1dI; phit.dI = cada1td1;
% Deriv 1 Line: phit.dI = cada1td1;
phit.f = cada1f3 + cada1f6;
% Deriv 1 Line: phit.f = cada1f3 + cada1f6;
%User Line: phit = phi + lm' * Psi + sigma * (Psi' * Psi);
phit.dI_size = 17;
% Deriv 1 Line: phit.dI_size = 17;
phit.dI_location = Gator1Data.Index20;
% Deriv 1 Line: phit.dI_location = Gator1Data.Index20;
end
function Psi = ADiGator_terminal_constraint_21(xm,wm,xp,wp)
global ADiGator_phit_2_II_ADiGatorJac
Gator1Data = ADiGator_phit_2_II_ADiGatorJac.ADiGator_terminal_constraint_21.Gator1Data;
Gator2Data = ADiGator_phit_2_II_ADiGatorJac.ADiGator_terminal_constraint_21.Gator2Data;
% ADiGator Start Derivative Computations
%User Line: % function that implements the terminal constraints for the current phase
target.f = [9;-9;3];
% Deriv 1 Line: target.f =  [9; -9; 3];
%User Line: target = [9; -9; 3];
cada1f1dI = xm.dI(Gator1Data.Index2);
% Deriv 1 Line: cada1f1dI = xm.dI(Gator1Data.Index2);
cada1f1 = xm.f(Gator1Data.Index1);
% Deriv 1 Line: cada1f1 = xm.f(Gator1Data.Index1);
Psi.dI = cada1f1dI;
% Deriv 1 Line: Psi.dI = cada1f1dI;
Psi.f = cada1f1 - target.f;
% Deriv 1 Line: Psi.f = cada1f1 - target.f;
%User Line: Psi = xm(1:3) - target;
end
function phi = ADiGator_terminal_cost_21(xm,wm,xp,wp)
global ADiGator_phit_2_II_ADiGatorJac
Gator1Data = ADiGator_phit_2_II_ADiGatorJac.ADiGator_terminal_cost_21.Gator1Data;
Gator2Data = ADiGator_phit_2_II_ADiGatorJac.ADiGator_terminal_cost_21.Gator2Data;
% ADiGator Start Derivative Computations
%User Line: % terminal cost for the linear quadratic test problem
cada1f1dI = wm.dI(1);
% Deriv 1 Line: cada1f1dI = wm.dI(1);
cada1f1 = wm.f(1);
% Deriv 1 Line: cada1f1 = wm.f(1);
cada2f1dI = 1.*cada1f1.^(1-1).*cada1f1dI;
cada2f1 = cada1f1^1;
cada2f2dI = 2.*cada2f1dI;
cada2f2 = 2*cada2f1;
cada1f2dIdI = cada1f1dI.*cada2f2dI;
cada1f2dI = cada2f2*cada1f1dI;
% Deriv 1 Line: cada1f2dI = 2.*cada1f1.^(2-1).*cada1f1dI;
cada1f2 = cada1f1^2;
% Deriv 1 Line: cada1f2 = cada1f1^2;
cada1f3dI = wm.dI(2);
% Deriv 1 Line: cada1f3dI = wm.dI(2);
cada1f3 = wm.f(2);
% Deriv 1 Line: cada1f3 = wm.f(2);
cada2f1dI = 1.*cada1f3.^(1-1).*cada1f3dI;
cada2f1 = cada1f3^1;
cada2f2dI = 2.*cada2f1dI;
cada2f2 = 2*cada2f1;
cada1f4dIdI = cada1f3dI.*cada2f2dI;
cada1f4dI = cada2f2*cada1f3dI;
% Deriv 1 Line: cada1f4dI = 2.*cada1f3.^(2-1).*cada1f3dI;
cada1f4 = cada1f3^2;
% Deriv 1 Line: cada1f4 = cada1f3^2;
cada1td1 =  zeros(2,1);
% Deriv 1 Line: cada1td1 = zeros(2,1);
cada1td1dI = cada1f2dIdI;
cada1td1(1) = cada1f2dI;
% Deriv 1 Line: cada1td1(1) = cada1f2dI;
cada2f1 = cada1td1(2);
cada2f2dI = cada1f4dIdI;
cada2f2 = cada2f1 + cada1f4dI;
cada2td1 = zeros(2,1);
cada2td1(2) = cada2f2dI;
cada2td1(1) = cada1td1dI(1);
cada1td1dI = cada2td1;
cada1td1(2) = cada2f2;
% Deriv 1 Line: cada1td1(2) = cada1td1(2) + cada1f4dI;
cada1f5dIdI = cada1td1dI; cada1f5dI = cada1td1;
% Deriv 1 Line: cada1f5dI = cada1td1;
cada1f5 = cada1f2 + cada1f4;
% Deriv 1 Line: cada1f5 = cada1f2 + cada1f4;
cada1f6dI = wm.dI(3);
% Deriv 1 Line: cada1f6dI = wm.dI(3);
cada1f6 = wm.f(3);
% Deriv 1 Line: cada1f6 = wm.f(3);
cada2f1dI = 1.*cada1f6.^(1-1).*cada1f6dI;
cada2f1 = cada1f6^1;
cada2f2dI = 2.*cada2f1dI;
cada2f2 = 2*cada2f1;
cada1f7dIdI = cada1f6dI.*cada2f2dI;
cada1f7dI = cada2f2*cada1f6dI;
% Deriv 1 Line: cada1f7dI = 2.*cada1f6.^(2-1).*cada1f6dI;
cada1f7 = cada1f6^2;
% Deriv 1 Line: cada1f7 = cada1f6^2;
cada1td1 =  zeros(3,1);
% Deriv 1 Line: cada1td1 = zeros(3,1);
cada1td1dI = cada1f5dIdI;
cada1td1(Gator1Data.Index1) = cada1f5dI;
% Deriv 1 Line: cada1td1(Gator1Data.Index1) = cada1f5dI;
cada2f1 = cada1td1(3);
cada2f2dI = cada1f7dIdI;
cada2f2 = cada2f1 + cada1f7dI;
cada2td1 = zeros(3,1);
cada2td1(3) = cada2f2dI;
cada2td1(Gator2Data.Index1) = cada1td1dI(Gator2Data.Index2);
cada1td1dI = cada2td1;
cada1td1(3) = cada2f2;
% Deriv 1 Line: cada1td1(3) = cada1td1(3) + cada1f7dI;
phi.dIdI = cada1td1dI; phi.dI = cada1td1;
% Deriv 1 Line: phi.dI = cada1td1;
phi.f = cada1f5 + cada1f7;
% Deriv 1 Line: phi.f = cada1f5 + cada1f7;
%User Line: phi = wm(1)^2 + wm(2)^2 + wm(3)^2;
end


function ADiGator_LoadData()
global ADiGator_phit_2_II_ADiGatorJac
ADiGator_phit_2_II_ADiGatorJac = load('phit_2_II_ADiGatorJac.mat');
return
end